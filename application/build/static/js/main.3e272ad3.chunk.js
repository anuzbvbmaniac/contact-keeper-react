(this.webpackJsonpapplication=this.webpackJsonpapplication||[]).push([[0],{46:function(e,t,a){},53:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(20),c=a.n(r),i=a(5),o=a(3),l=(a(46),a(23)),d=a(16),m=a(13),u=Object(n.createContext)(),x=Object(n.createContext)(),j=a(1),b=function(){var e=Object(n.useContext)(u),t=Object(n.useContext)(x),a=e.isAuthenticated,s=e.logout,r=e.user,c=t.clearContacts,o=function(){s(),c()},b=Object(j.jsx)("div",{className:"hidden md:block",children:Object(j.jsx)("div",{className:"ml-4 flex items-center md:ml-6",children:Object(j.jsx)(d.b,{as:"div",className:"ml-3 relative",children:function(e){var t=e.open;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsxs)(d.b.Button,{className:"max-w-xs flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white",children:[Object(j.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(j.jsxs)("p",{children:[r&&r.name," ",Object(j.jsx)(m.b,{className:"w-5 h-5 float-right"})]})]})}),Object(j.jsx)(d.c,{show:t,as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(j.jsxs)(d.b.Items,{static:!0,className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[Object(j.jsx)(i.b,{to:"/",className:"block px-4 py-2 text-sm text-gray-700",children:"Profile"}),Object(j.jsx)("a",{href:"#!",onClick:o,className:"block px-4 py-2 text-sm text-gray-700",children:"Logout"})]})})]})}})})}),h=Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:[Object(j.jsx)(i.b,{to:"/login",className:"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),Object(j.jsx)(i.b,{to:"/register",className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign up"})]})});return Object(j.jsx)(d.a,{as:"nav",className:"bg-white",children:function(e){var t=e.open;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(j.jsxs)("div",{className:"flex items-center justify-between h-16",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"flex-shrink-0",children:Object(j.jsx)("img",{className:"h-8 w-8",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"})}),Object(j.jsx)("div",{className:"hidden md:block",children:Object(j.jsxs)("div",{className:"ml-10 flex items-baseline space-x-4",children:[Object(j.jsx)(i.b,{to:"/",className:"text-indigo-700 px-3 py-2 rounded-md text-sm font-medium",children:"Home"}),Object(j.jsx)(i.b,{to:"/about",className:"text-gray-400 hover:text-indigo-700 px-3 py-2 rounded-md text-sm font-medium",children:"About"})]})})]}),a?b:h,Object(j.jsx)("div",{className:"-mr-2 flex md:hidden",children:Object(j.jsxs)(d.a.Button,{className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(j.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?Object(j.jsx)(l.c,{className:"block h-6 w-6","aria-hidden":"true"}):Object(j.jsx)(l.b,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),Object(j.jsxs)(d.a.Panel,{className:"md:hidden",children:[Object(j.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[Object(j.jsx)(i.b,{to:"/",className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Home"}),Object(j.jsx)(i.b,{to:"/about",className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"About"})]}),Object(j.jsxs)("div",{className:"pt-4 pb-3 border-t border-gray-700",children:[Object(j.jsxs)("div",{className:"flex items-center px-5",children:[Object(j.jsx)("div",{className:"flex-shrink-0",children:Object(j.jsx)("img",{className:"h-10 w-10 rounded-full",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""})}),Object(j.jsxs)("div",{className:"ml-3",children:[Object(j.jsx)("div",{className:"text-base font-medium leading-none text-white",children:"Tom Cook"}),Object(j.jsx)("div",{className:"text-sm font-medium leading-none text-gray-400",children:"tom@example.com"})]}),Object(j.jsxs)("button",{className:"ml-auto bg-gray-800 flex-shrink-0 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(j.jsx)("span",{className:"sr-only",children:"View notifications"}),Object(j.jsx)(l.a,{className:"h-6 w-6","aria-hidden":"true"})]})]}),Object(j.jsxs)("div",{className:"mt-3 px-2 space-y-1",children:[Object(j.jsx)(i.b,{to:"/",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:"Profile"}),Object(j.jsx)(i.b,{to:"/",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:"Settings"})]})]})]})]})}})};b.defaultProps={title:"Contact Keeper",icon:"fas fa-id-card-alt"};var h=b,p=function(e){var t=e.contact,a=Object(n.useContext)(x),s=a.deleteContact,r=a.setCurrent,c=a.clearCurrent,i=t._id,o=t.name,l=t.email,d=t.phone,u=t.type;return Object(j.jsxs)("li",{className:"col-span-1 bg-white rounded-lg shadow divide-y divide-gray-200 mb-3",children:[Object(j.jsx)("div",{className:"w-full flex items-center justify-between p-6 space-x-6",children:Object(j.jsxs)("div",{className:"flex-1 truncate",children:[Object(j.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(j.jsx)("h3",{className:"text-gray-900 text-lg font-bold truncate",children:o}),Object(j.jsx)("span",{className:"flex-shrink-0 inline-block px-2 py-0.5 text-xs font-medium rounded-full "+("professional"===u?"text-green-800 bg-green-100":"text-red-800 bg-red-100"),children:u.charAt(0).toUpperCase()+u.slice(1)})]}),l&&Object(j.jsxs)("p",{className:"mt-1 text-gray-500 text-sm truncate",children:[Object(j.jsx)(m.c,{className:"w-5 h-5 text-gray-500 float-left mr-2","aria-hidden":"true"}),l]}),d&&Object(j.jsxs)("p",{className:"mt-1 text-gray-500 text-sm truncate",children:[Object(j.jsx)(m.e,{className:"w-5 h-5 text-gray-500 float-left mr-2","aria-hidden":"true"}),d]})]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"-mt-px flex divide-x divide-gray-200",children:[Object(j.jsx)("div",{className:"w-0 flex-1 flex",children:Object(j.jsxs)("button",{onClick:function(){return r(t)},className:"relative -mr-px w-0 flex-1 inline-flex items-center justify-center py-3 text-sm text-gray-700 font-medium border border-green-500 rounded-bl-lg bg-green-500 hover:bg-green-600 focus:outline-none",children:[Object(j.jsx)(m.d,{className:"w-5 h-5 text-white","aria-hidden":"true"}),Object(j.jsx)("span",{className:"ml-3 text-white",children:"Edit"})]})}),Object(j.jsx)("div",{className:"-ml-px w-0 flex-1 flex",children:Object(j.jsxs)("button",{onClick:function(){s(i),c()},className:"relative w-0 flex-1 inline-flex items-center justify-center py-3 text-sm text-gray-700 font-medium border border-red-500 rounded-br-lg hover:text-gray-500 bg-red-500 hover:bg-red-600 focus:outline-none",children:[Object(j.jsx)(m.f,{className:"w-5 h-5 text-white","aria-hidden":"true"}),Object(j.jsx)("span",{className:"ml-3 text-white",children:"Delete"})]})})]})})]})},f=(a(53),function(){return Object(j.jsxs)("div",{className:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center",children:[Object(j.jsx)("div",{className:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"}),Object(j.jsx)("h2",{className:"text-center text-white text-xl font-semibold",children:"Loading..."})]})}),g=function(){var e=Object(n.useContext)(x),t=e.contacts,a=e.filtered,s=e.getContacts,r=e.loading;return Object(n.useEffect)((function(){s()}),[]),null===t||0!==t.length||r?Object(j.jsx)(j.Fragment,{children:null===t||r?Object(j.jsx)(f,{}):Object(j.jsx)("div",{className:"mt-5 md:mt-0",children:Object(j.jsx)("ul",{className:"grid",children:null!==a?a.map((function(e){return Object(j.jsx)(p,{contact:e},e._id)})):t.map((function(e){return Object(j.jsx)(p,{contact:e},e._id)}))})})}):Object(j.jsx)("div",{className:"mt-5 md:mt-0",children:Object(j.jsx)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:Object(j.jsx)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6",children:Object(j.jsx)("h1",{children:"No Contacts found. Please add a contact."})})})})},O=a(15),y=a(2),v=a(10),N=function(){var e=Object(n.useContext)(x),t=e.addContact,a=e.current,s=e.clearCurrent,r=e.updateContact;Object(n.useEffect)((function(){l(null!==a?a:{name:"",email:"",phone:"",type:"personal"})}),[e,a]);var c=Object(n.useState)({name:"",email:"",phone:"",type:"personal"}),i=Object(v.a)(c,2),o=i[0],l=i[1],d=o.name,m=o.email,u=o.phone,b=o.type,h=function(e){return l(Object(y.a)(Object(y.a)({},o),{},Object(O.a)({},e.target.name,e.target.value)))},p=function(){s()};return Object(j.jsx)("div",{className:"mt-5 md:mt-0",children:Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),null===a?t(o):r(o),p()},children:Object(j.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[Object(j.jsxs)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6",children:[Object(j.jsx)("h1",{className:"order-1 text-gray-900 text-3xl font-extrabold tracking-tight",children:a?"Edit Contact":"Add Contact"}),Object(j.jsxs)("div",{className:"grid",children:[Object(j.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),Object(j.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:Object(j.jsx)("input",{type:"text",name:"name",id:"name",className:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-md sm:text-sm border-gray-300",placeholder:"John Doe",value:d,onChange:h})})]}),Object(j.jsxs)("div",{className:"grid",children:[Object(j.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),Object(j.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:Object(j.jsx)("input",{type:"text",name:"email",id:"email",className:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-md sm:text-sm border-gray-300",placeholder:"example@mail.com",value:m,onChange:h})})]}),Object(j.jsxs)("div",{className:"grid",children:[Object(j.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),Object(j.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:Object(j.jsx)("input",{type:"text",name:"phone",id:"phone",className:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-md sm:text-sm border-gray-300",placeholder:"XXXX-XXX-XXX",value:u,onChange:h})})]}),Object(j.jsxs)("div",{className:"grid",children:[Object(j.jsx)("div",{children:Object(j.jsx)("legend",{className:"block text-sm font-medium text-gray-700",children:"Contact Type"})}),Object(j.jsxs)("div",{className:"mt-4 flex flex-row",children:[Object(j.jsxs)("div",{className:"flex items-center mr-4",children:[Object(j.jsx)("input",{id:"push_everything",name:"type",type:"radio",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300",value:"personal",checked:"personal"===b,onChange:h}),Object(j.jsx)("label",{htmlFor:"push_everything",className:"ml-3 block text-sm font-medium text-gray-700",children:"Personal"})]}),Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("input",{id:"push_email",name:"type",type:"radio",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300",value:"professional",checked:"professional"===b,onChange:h}),Object(j.jsx)("label",{htmlFor:"push_email",className:"ml-3 block text-sm font-medium text-gray-700",children:"Professional"})]})]})]})]}),Object(j.jsxs)("div",{className:"px-4 py-3 bg-gray-50 sm:px-6",children:[Object(j.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:a?"Update Contact":"Add Contact"}),a&&Object(j.jsx)("button",{className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:p,children:"Clear"})]})]})})})},w=function(){var e=Object(n.useContext)(u);return Object(n.useEffect)((function(){e.loadUser()}),[]),Object(j.jsx)("div",{className:"max-w-7xl mx-auto py-12 sm:px-6 lg:px-8",children:Object(j.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[Object(j.jsx)(N,{}),Object(j.jsx)(g,{})]})})},k=function(){return Object(j.jsx)("div",{className:"bg-white max-w-7xl mx-auto py-12 sm:px-6 lg:px-8 mt-12 rounded-lg",children:Object(j.jsx)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:py-12 sm:px-6 lg:px-8",children:Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("h2",{className:"text-base font-semibold text-indigo-600 tracking-wide uppercase",children:"About Us"}),Object(j.jsx)("p",{className:"mt-3 text-3xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-5xl",children:"The Best Way to Maintain Your Contacts"}),Object(j.jsx)("p",{className:"max-w-xl mt-5 mx-auto text-xl text-gray-500",children:"Intuitive contact management for individuals, teams & small businesses."}),Object(j.jsx)("p",{className:"w-1/6 mt-5 mx-auto text-sm text-white bg-green-500 p-1 rounded",children:"Version: 1.0.0 (beta)"})]})})})},C=a(6),E=a.n(C),A=a(14),_=a(11),T=a.n(_),S=a(22),R="GET_CONTACTS",F="ADD_CONTACT",P="FILTER_CONTACTS",L="UPDATE_CONTACT",I="DELETE_CONTACT",U="CLEAR_CONTACTS",D="SET_CURRENT",X="CLEAR_CURRENT",q="CLEAR_FILTER",G="CONTACT_ERROR",B="SET_ALERT",H="REMOVE_ALERT",J="REGISTER_SUCCESS",M="REGISTER_FAIL",V="USER_LOADED",W="AUTH_ERROR",z="LOGIN_SUCCESS",K="LOGOUT",Q="CLEAR_ERRORS",Y=function(e,t){switch(t.type){case R:return Object(y.a)(Object(y.a)({},e),{},{contacts:t.payload,loading:!1});case F:return Object(y.a)(Object(y.a)({},e),{},{contacts:[t.payload].concat(Object(S.a)(e.contacts)),loading:!1});case I:return Object(y.a)(Object(y.a)({},e),{},{contacts:e.contacts.filter((function(e){return e._id!==t.payload})),loading:!1});case L:return Object(y.a)(Object(y.a)({},e),{},{contacts:e.contacts.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case U:return Object(y.a)(Object(y.a)({},e),{},{contacts:null,filtered:null,error:null,current:null});case D:return Object(y.a)(Object(y.a)({},e),{},{current:t.payload});case X:return Object(y.a)(Object(y.a)({},e),{},{current:null});case P:return Object(y.a)(Object(y.a)({},e),{},{filtered:e.contacts.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.name.match(a)||e.email.match(a)}))});case q:return Object(y.a)(Object(y.a)({},e),{},{filtered:null});case G:return Object(y.a)(Object(y.a)({},e),{},{error:t.payload});default:return e}},Z=function(e){var t=Object(n.useReducer)(Y,{contacts:null,current:null,filtered:null,error:null}),a=Object(v.a)(t,2),s=a[0],r=a[1],c=function(){var e=Object(A.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("/api/contacts");case 3:t=e.sent,r({type:R,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({type:G,payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(A.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,T.a.post("/api/contacts",t,a);case 4:n=e.sent,r({type:F,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:G,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(A.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,T.a.put("api/contacts/".concat(t._id),t,a);case 4:n=e.sent,r({type:L,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:G,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(A.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.delete("/api/contacts/".concat(t));case 3:e.sent,r({type:I,payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(x.Provider,{value:{contacts:s.contacts,current:s.current,filtered:s.filtered,error:s.error,getContacts:c,addContact:i,deleteContact:l,clearContacts:function(){r({type:U})},setCurrent:function(e){r({type:D,payload:e})},clearCurrent:function(){r({type:X})},updateContact:o,filterContacts:function(e){r({type:P,payload:e})},clearFilter:function(){r({type:q})}},children:e.children})},$=function(e,t){switch(t.type){case V:return Object(y.a)(Object(y.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case z:return localStorage.setItem("token",t.payload.token),Object(y.a)(Object(y.a)(Object(y.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case"LOGIN_FAIL":return localStorage.removeItem("token"),Object(y.a)(Object(y.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case J:return localStorage.setItem("token",t.payload.token),Object(y.a)(Object(y.a)(Object(y.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case M:return localStorage.removeItem("token"),Object(y.a)(Object(y.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case Q:return Object(y.a)(Object(y.a)({},e),{},{error:null});case W:case K:return localStorage.removeItem("token"),Object(y.a)(Object(y.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});default:return e}},ee=function(e){e?T.a.defaults.headers.common["x-auth-token"]=e:delete T.a.defaults.headers.common["x-auth-token"]},te=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,error:null},a=Object(n.useReducer)($,t),s=Object(v.a)(a,2),r=s[0],c=s[1],i=function(){var e=Object(A.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&ee(localStorage.token),e.prev=1,e.next=4,T.a.get("/api/auth");case 4:t=e.sent,c({type:V,payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message),c({type:W});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(A.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,T.a.post("/api/users",t,a);case 4:return n=e.sent,c({type:J,payload:n.data}),e.next=8,i();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:M,payload:e.t0.response.data.msg});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(A.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,T.a.post("/api/auth",t,a);case 4:n=e.sent,c({type:z,payload:n.data}),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({type:M,payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(u.Provider,{value:{token:r.token,isAuthenticated:r.isAuthenticated,loading:r.loading,user:r.user,error:r.error,register:o,loadUser:i,login:l,logout:function(){c({type:K})},clearErrors:function(){c({type:Q})}},children:e.children})},ae=Object(n.createContext)(),ne=function(e){var t=Object(n.useContext)(ae),a=Object(n.useContext)(u),s=t.setAlert,r=a.register,c=a.error,o=a.clearErrors,l=a.isAuthenticated;Object(n.useEffect)((function(){l&&e.history.push("/"),"User already exists."===c&&(s(c,"danger"),o())}),[c,l,e.history]);var d=Object(n.useState)({name:"",email:"",password:"",password_confirmation:""}),m=Object(v.a)(d,2),x=m[0],b=m[1],h=x.name,p=x.email,f=x.password,g=x.password_confirmation,N=function(e){b(Object(y.a)(Object(y.a)({},x),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8 flex-col justify-center",children:[Object(j.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(j.jsx)("h2",{className:"mt-0 text-center text-3xl font-extrabold text-gray-900",children:"Sign up"}),Object(j.jsx)("p",{className:"mt-2 font-medium text-indigo-600 hover:text-indigo-500 text-center text-sm",children:"Please fill in the required fields."})]}),Object(j.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(j.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(j.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault(),""===h||""===p||""===f?s("Please enter all fields","danger"):f!==g?s("Password didnt match","danger"):r({name:h,email:p,password:f})},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),Object(j.jsx)("div",{className:"mt-1",children:Object(j.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:h,onChange:N})})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(j.jsx)("div",{className:"mt-1",children:Object(j.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:p,onChange:N})})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(j.jsx)("div",{className:"mt-1",children:Object(j.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,minLength:"6",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:f,onChange:N})})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),Object(j.jsx)("div",{className:"mt-1",children:Object(j.jsx)("input",{id:"password_confirmation",name:"password_confirmation",type:"password",required:!0,minLength:"6",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:g,onChange:N})})]}),Object(j.jsxs)("div",{className:"flex items-center justify-between",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),Object(j.jsx)("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),Object(j.jsx)("div",{className:"text-sm",children:Object(j.jsx)(i.b,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign up"})})]})})})]})},se=function(e){var t=Object(n.useContext)(u),a=Object(n.useContext)(ae).setAlert,s=t.login,r=t.error,c=t.clearErrors,o=t.isAuthenticated;Object(n.useEffect)((function(){o&&e.history.push("/"),"Invalid email address. User not found."===r&&(a(r,"danger"),c())}),[r,o,e.history]);var l=Object(n.useState)({email:"",password:""}),d=Object(v.a)(l,2),m=d[0],x=d[1],b=m.email,h=m.password,p=function(e){x(Object(y.a)(Object(y.a)({},m),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{className:"min-h-screen bg-gray-50 py-12 flex-col justify-center",children:[Object(j.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(j.jsx)("h2",{className:"mt-0 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),Object(j.jsx)("p",{className:"mt-2 font-medium text-indigo-600 hover:text-indigo-500 text-center text-sm",children:"Please fill in the required fields."})]}),Object(j.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(j.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(j.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault(),""===b||""===h?a("Please fill in all fields.","danger"):s({email:b,password:h})},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(j.jsx)("div",{className:"mt-1",children:Object(j.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:b,onChange:p})})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(j.jsx)("div",{className:"mt-1",children:Object(j.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:h,onChange:p})})]}),Object(j.jsxs)("div",{className:"flex items-center justify-between",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),Object(j.jsx)("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),Object(j.jsx)("div",{className:"text-sm",children:Object(j.jsx)(i.b,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]})})})]})},re=a(40),ce=a.n(re),ie=function(e,t){switch(t.type){case B:return[].concat(Object(S.a)(e),[t.payload]);case H:return e.filter((function(e){return e.id!==t.payload}));default:return e}},oe=function(e){var t=Object(n.useReducer)(ie,[]),a=Object(v.a)(t,2),s=a[0],r=a[1];return Object(j.jsx)(ae.Provider,{value:{alerts:s,setAlert:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=ce.a.v4();r({type:B,payload:{msg:e,type:t,id:n}}),setTimeout((function(){return r({type:H,payload:n})}),a)},removeAlert:function(e){r({type:H,payload:e})}},children:e.children})},le=function(){var e=Object(n.useContext)(ae);return e.alerts.length>0&&e.alerts.map((function(t){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"flex justify-center pt-6",children:Object(j.jsx)("div",{className:"rounded-md bg-".concat("danger"===t.type?"red-50":"green-50"," p-4 w-1/2"),children:Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"flex-shrink-0",children:"success"===t.type?Object(j.jsx)(m.a,{className:"h-5 w-5 text-green-400","aria-hidden":"true"}):Object(j.jsx)(m.g,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),Object(j.jsxs)("div",{className:"ml-3",children:[Object(j.jsxs)("p",{className:"text-sm font-medium text-".concat("danger"===t.type?"red-800":"green-800"),children:["There are ",e.alerts.length," errors with your submission."]}),Object(j.jsx)("ul",{className:"list-disc pl-5 space-y-1 mt-2 text-sm text-red-700",children:Object(j.jsx)("li",{children:t.msg})})]}),Object(j.jsx)("div",{className:"ml-auto pl-3",children:Object(j.jsx)("div",{className:"-mx-1.5 -my-1.5",children:Object(j.jsxs)("button",{type:"button",className:"inline-flex bg-".concat("danger"===t.type?"red-50":"green-50"," rounded-md p-1.5 text-").concat("danger"===t.type?"red-500":"green-500"," hover:bg-").concat("danger"===t.type?"red-100":"green-100"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-").concat("danger"===t.type?"red-50":"green-50"," focus:ring-").concat("danger"===t.type?"red-600":"green-600"),onClick:function(){return e.removeAlert(t.id)},children:[Object(j.jsx)("span",{className:"sr-only",children:"Dismiss"}),Object(j.jsx)(m.h,{className:"h-5 w-5","aria-hidden":"true"})]})})})]})})},t.id)})}))},de=a(41),me=function(e){var t=e.component,a=Object(de.a)(e,["component"]),s=Object(n.useContext)(u),r=s.isAuthenticated,c=s.loading;return Object(j.jsx)(o.b,Object(y.a)(Object(y.a)({},a),{},{render:function(e){return r||c?Object(j.jsx)(t,Object(y.a)({},e)):Object(j.jsx)(o.a,{to:"/login"})}}))};localStorage.token&&ee(localStorage.token);var ue=function(){return Object(j.jsx)(te,{children:Object(j.jsx)(Z,{children:Object(j.jsx)(oe,{children:Object(j.jsx)(i.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(h,{}),Object(j.jsxs)("main",{className:"bg-gray-50",children:[Object(j.jsx)(le,{}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(me,{exact:!0,path:"/",component:w}),Object(j.jsx)(o.b,{exact:!0,path:"/about",component:k}),Object(j.jsx)(o.b,{exact:!0,path:"/register",component:ne}),Object(j.jsx)(o.b,{exact:!0,path:"/login",component:se})]})]})]})})})})})};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(ue,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.3e272ad3.chunk.js.map